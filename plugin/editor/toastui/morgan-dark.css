/**
 * Morgan Edition - Toast UI Editor Dark Theme Override
 * Toast UI Editor 기본 다크테마 색상을 Morgan CSS 변수로 덮어씌움
 */

/* 에디터 전체 래퍼 */
.toastui-editor-dark-wrap .toastui-editor-defaultUI {
    border: 1px solid var(--mg-bg-tertiary, #313338);
    border-radius: 0.5rem;
    overflow: hidden;
}

/* 툴바 */
.toastui-editor-dark .toastui-editor-toolbar {
    background: var(--mg-bg-tertiary, #313338);
    border-bottom: 1px solid var(--mg-bg-tertiary, #313338);
}

.toastui-editor-dark .toastui-editor-toolbar-icons {
    border: none;
    background-color: transparent;
    color: var(--mg-text-secondary, #b5bac1);
}

.toastui-editor-dark .toastui-editor-toolbar-icons:hover {
    background-color: rgba(255, 255, 255, 0.08);
    color: var(--mg-text-primary, #f2f3f5);
}

.toastui-editor-dark .toastui-editor-toolbar-icons.active {
    background-color: var(--mg-accent, #f59f0a);
    color: #fff;
}

.toastui-editor-dark .toastui-editor-toolbar-group {
    border-right-color: rgba(255, 255, 255, 0.1);
}

/* 에디팅 영역 */
.toastui-editor-dark .toastui-editor-ww-container,
.toastui-editor-dark .toastui-editor-md-container {
    background: var(--mg-bg-secondary, #2b2d31);
}

.toastui-editor-dark .ProseMirror,
.toastui-editor-dark .toastui-editor-md-preview {
    color: var(--mg-text-primary, #f2f3f5);
}

.toastui-editor-dark .toastui-editor-ww-container .toastui-editor-contents {
    color: var(--mg-text-primary, #f2f3f5);
    font-family: inherit;
}

.toastui-editor-dark .toastui-editor-contents p {
    color: var(--mg-text-primary, #f2f3f5);
}

.toastui-editor-dark .toastui-editor-contents h1,
.toastui-editor-dark .toastui-editor-contents h2,
.toastui-editor-dark .toastui-editor-contents h3,
.toastui-editor-dark .toastui-editor-contents h4,
.toastui-editor-dark .toastui-editor-contents h5,
.toastui-editor-dark .toastui-editor-contents h6 {
    color: var(--mg-text-primary, #f2f3f5);
    border-bottom-color: var(--mg-bg-tertiary, #313338);
}

/* 링크 */
.toastui-editor-dark .toastui-editor-contents a {
    color: var(--mg-accent, #f59f0a);
}

/* 코드블록 */
.toastui-editor-dark .toastui-editor-contents pre {
    background: var(--mg-bg-primary, #1e1f22);
    border-radius: 0.375rem;
}

.toastui-editor-dark .toastui-editor-contents code {
    background: var(--mg-bg-primary, #1e1f22);
    color: var(--mg-accent, #f59f0a);
}

/* 인용문 */
.toastui-editor-dark .toastui-editor-contents blockquote {
    border-left-color: var(--mg-accent, #f59f0a);
    color: var(--mg-text-secondary, #b5bac1);
}

/* 구분선 */
.toastui-editor-dark .toastui-editor-contents hr {
    border-color: var(--mg-bg-tertiary, #313338);
}

/* 테이블 */
.toastui-editor-dark .toastui-editor-contents table th {
    background: var(--mg-bg-tertiary, #313338);
    border-color: rgba(255, 255, 255, 0.1);
    color: var(--mg-text-primary, #f2f3f5);
}

.toastui-editor-dark .toastui-editor-contents table td {
    border-color: rgba(255, 255, 255, 0.1);
    color: var(--mg-text-primary, #f2f3f5);
}

/* 모드 전환 탭 */
.toastui-editor-dark .toastui-editor-mode-switch {
    background: var(--mg-bg-tertiary, #313338);
    border-top: 1px solid var(--mg-bg-tertiary, #313338);
}

.toastui-editor-dark .toastui-editor-mode-switch .tab-item {
    color: var(--mg-text-muted, #949ba4);
    border: none;
    background: transparent;
}

.toastui-editor-dark .toastui-editor-mode-switch .tab-item.active {
    color: var(--mg-accent, #f59f0a);
    border-bottom: 2px solid var(--mg-accent, #f59f0a);
}

/* 팝업/드롭다운 */
.toastui-editor-dark .toastui-editor-popup {
    background: var(--mg-bg-secondary, #2b2d31);
    border: 1px solid var(--mg-bg-tertiary, #313338);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

.toastui-editor-dark .toastui-editor-popup-body label {
    color: var(--mg-text-secondary, #b5bac1);
}

.toastui-editor-dark .toastui-editor-popup-body input[type="text"] {
    background: var(--mg-bg-primary, #1e1f22);
    border: 1px solid var(--mg-bg-tertiary, #313338);
    color: var(--mg-text-primary, #f2f3f5);
}

.toastui-editor-dark .toastui-editor-popup-body .toastui-editor-button {
    background: var(--mg-accent, #f59f0a);
    color: #fff;
    border: none;
}

.toastui-editor-dark .toastui-editor-popup-body .toastui-editor-button:hover {
    background: var(--mg-accent-hover, #d97706);
}

/* 스크롤바 */
.toastui-editor-dark .toastui-editor-ww-container::-webkit-scrollbar,
.toastui-editor-dark .toastui-editor-md-container::-webkit-scrollbar {
    width: 8px;
}

.toastui-editor-dark .toastui-editor-ww-container::-webkit-scrollbar-track,
.toastui-editor-dark .toastui-editor-md-container::-webkit-scrollbar-track {
    background: var(--mg-bg-secondary, #2b2d31);
}

.toastui-editor-dark .toastui-editor-ww-container::-webkit-scrollbar-thumb,
.toastui-editor-dark .toastui-editor-md-container::-webkit-scrollbar-thumb {
    background: var(--mg-bg-tertiary, #313338);
    border-radius: 4px;
}

/* 마크다운 에디터 라인 넘버/커서 */
.toastui-editor-dark .toastui-editor-md-container .CodeMirror {
    background: var(--mg-bg-secondary, #2b2d31);
    color: var(--mg-text-primary, #f2f3f5);
}

.toastui-editor-dark .toastui-editor-md-container .CodeMirror-cursor {
    border-left-color: var(--mg-text-primary, #f2f3f5);
}

/* placeholder */
.toastui-editor-dark .ProseMirror .placeholder {
    color: var(--mg-text-muted, #949ba4);
}

/* 미리보기 구분선 */
.toastui-editor-dark .toastui-editor-md-splitter {
    background: var(--mg-bg-tertiary, #313338);
}

/* Toast UI 에디터가 있으면 외부 이모티콘 피커 숨김 (툴바에 통합) */
.toastui-editor-dark-wrap ~ .mg-emoticon-picker-wrap {
    display: none;
}

/* 이모티콘 커스텀 툴바 버튼 — 바깥 wrapper 마진/패딩 제거 */
.toastui-editor-defaultUI .toastui-editor-toolbar .toastui-editor-toolbar-item-wrapper {
    margin: 0 !important;
    padding: 0 !important;
}

/* 에디터 본문 내 이모티콘 이미지 크기 */
.toastui-editor-dark .toastui-editor-contents img[alt^=":"][alt$=":"] {
    display: inline;
    width: 1.75rem;
    height: 1.75rem;
    vertical-align: middle;
    object-fit: contain;
}
