# ν¬μΈνΈ μ‹μ¤ν… κΈ°ν

> Morgan Edition - ν¬μΈνΈ μ‹μ¤ν… μ„¤κ³„
> μ°Έκ³ : κ·Έλ„λ³΄λ“5 ν¬μΈνΈ + μ¶μ„μ²΄ν¬/λ―Έλ‹κ²μ„ ν™•μ¥

> β οΈ **μ¤ν‚¤λ§ μ°Έμ΅°**: μµμΆ… ν…μ΄λΈ” κµ¬μ΅°λ” [PLAN_DB.md](./PLAN_DB.md) μ°Έμ΅°
> μ΄ λ¬Έμ„μ ν…μ΄λΈ”λ…μ€ μ„¤κ³„ μ°Έκ³ μ©μ΄λ©°, μ‹¤μ  κµ¬ν„ μ‹ mg_ μ ‘λ‘μ‚¬ μ‚¬μ©
> (μ: attendance β†’ mg_attendance, game_dice β†’ mg_game_dice)

---

## κ°μ”

- **ν¬μΈνΈ**: μ»¤λ®¤λ‹ν‹° ν™λ™μΌλ΅ μ λ¦½, μƒμ μ—μ„ μ‚¬μ©
- **μ¶μ„μ²΄ν¬**: λ―Έλ‹κ²μ„κ³Ό μ—°λ™ν•μ—¬ λ³΄μƒ μ°¨λ“±
- **κ²½ν—μΉ**: 2μ°¨ κ°λ°λ΅ λ³΄λ¥ (μ „ν¬ μ‹μ¤ν… ν•„μ”)

---

## 1. ν¬μΈνΈ κΈ°λ³Έ κµ¬μ΅°

### 1.1 ν¬μΈνΈ ν…μ΄λΈ” (point) - κ·Έλ„λ³΄λ“ κΈ°λ³Έ μ μ§€

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| po_id | int AUTO_INCREMENT | PK |
| mb_id | varchar(20) | νμ› ID |
| po_datetime | datetime | μ λ¦½/μ‚¬μ© μΌμ‹ |
| po_content | varchar(255) | λ‚΄μ© |
| po_point | int | ν¬μΈνΈ (+μ λ¦½, -μ‚¬μ©) |
| po_use_point | int | μ‚¬μ© ν¬μΈνΈ |
| po_expired | tinyint | λ§λ£ μ—¬λ¶€ |
| po_expire_date | date | λ§λ£μΌ |
| po_rel_table | varchar(50) | κ΄€λ ¨ ν…μ΄λΈ” |
| po_rel_id | varchar(50) | κ΄€λ ¨ ID |
| po_rel_action | varchar(50) | κ΄€λ ¨ μ•΅μ… |

### 1.2 νμ› ν…μ΄λΈ” (member)

| ν•„λ“ | μ„¤λ… |
|------|------|
| mb_point | ν„μ¬ λ³΄μ  ν¬μΈνΈ |

---

## 2. ν¬μΈνΈ μ λ¦½

### 2.1 μ λ¦½ λ€μƒ ν™λ™

| ν™λ™ | ν¬μΈνΈ | λΉ„κ³  |
|------|--------|------|
| κΈ€ μ‘μ„± | κ΄€λ¦¬μ μ„¤μ • | κ²μ‹νλ³„ μ„¤μ • |
| λ“κΈ€ μ‘μ„± | κ΄€λ¦¬μ μ„¤μ • | κ²μ‹νλ³„ μ„¤μ • |
| μ—­κ·Ή ν μ„Έμ°κΈ° | κ΄€λ¦¬μ μ„¤μ • | |
| μ—­κ·Ή μ΄μ | κ΄€λ¦¬μ μ„¤μ • | |
| μ¶μ„μ²΄ν¬ | λ―Έλ‹κ²μ„ κ²°κ³Ό | μ°¨λ“± λ³΄μƒ |
| μ¶”μ² λ°›μ | κ΄€λ¦¬μ μ„¤μ • | μ„ νƒμ  |

### 2.2 μ λ¦½ μ μ™Έ κ²μ‹ν

| κ²μ‹ν | μ μ™Έ μ΄μ  |
|--------|----------|
| κ³µμ§€μ‚¬ν•­ | κ΄€λ¦¬μ μ „μ© |
| λ¬Έμ | 1:1 λ¬Έμ |
| μ¤λ„κ²μ‹ν | μΊλ¦­ν„° λ―Έμ—°λ™ |

### 2.3 μ λ¦½ μ ν• (κ²μ‹νλ³„)

| μ„¤μ • | μ„¤λ… |
|------|------|
| bo_point_limit | μΌμΌ ν¬μΈνΈ νλ“ κ°€λ¥ νμ (0=λ¬΄μ ν•) |
| bo_point_write | κΈ€ μ‘μ„± ν¬μΈνΈ |
| bo_point_comment | λ“κΈ€ μ‘μ„± ν¬μΈνΈ |

---

## 3. μ¶μ„μ²΄ν¬ μ‹μ¤ν…

### 3.1 μ¶μ„ ν…μ΄λΈ” (attendance)

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| at_id | int AUTO_INCREMENT | PK |
| mb_id | varchar(20) | νμ› ID |
| at_date | date | μ¶μ„ λ‚ μ§ |
| at_datetime | datetime | μ¶μ„ μ‹κ°„ |
| at_game_type | varchar(20) | λ―Έλ‹κ²μ„ μΆ…λ¥ |
| at_result | varchar(100) | κ²°κ³Ό (λ“±μ, μ΄μ„Έ λ“±) |
| at_point | int | νλ“ ν¬μΈνΈ |

### 3.2 μ¶μ„ μ„¤μ • (κ΄€λ¦¬μ)

| μ„¤μ • | μ„¤λ… |
|------|------|
| cf_attendance_use | μ¶μ„μ²΄ν¬ μ‚¬μ© μ—¬λ¶€ |
| cf_attendance_game | λ―Έλ‹κ²μ„ μΆ…λ¥ μ„ νƒ |
| cf_attendance_daily_limit | μΌμΌ μ¶μ„ κ°€λ¥ νμ |

---

## 4. λ―Έλ‹κ²μ„

### 4.1 λ―Έλ‹κ²μ„ μΆ…λ¥

| μΆ…λ¥ | μ½”λ“ | μ„¤λ… |
|------|------|------|
| μ£Όμ‚¬μ„ | dice | λλ¤ ν¬μΈνΈ (μƒν•/ν•ν•) |
| μ΄μ„Έλ½‘κΈ° | fortune | μ΄μ„Έ ν…μ¤νΈ + λ³„μ  λ³΄μƒ |
| μΆ…μ΄λ½‘κΈ° | lottery | λ“±μλ³„ μƒν’, ν μ™„μ„± λ³΄λ„μ¤ |

---

### 4.2 μ£Όμ‚¬μ„ κ²μ„ (dice)

**κ°μ”**: λ²„νΌ ν΄λ¦­ β†’ μ£Όμ‚¬μ„ λ¨μ… β†’ λλ¤ ν¬μΈνΈ νλ“

**μ„¤μ • ν…μ΄λΈ” (game_dice)**

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| gd_id | int | PK |
| gd_min | int | μµμ† ν¬μΈνΈ |
| gd_max | int | μµλ€ ν¬μΈνΈ |
| gd_use | tinyint | μ‚¬μ© μ—¬λ¶€ |

**UI ν”λ΅μ°**
```
[μ¶μ„μ²΄ν¬ λ²„νΌ ν΄λ¦­]
      β†“
[μ£Όμ‚¬μ„ κµ΄λ¦¬κΈ° μ• λ‹λ©”μ΄μ…]
      β†“
[κ²°κ³Ό ν‘μ‹: "π² 42 ν¬μΈνΈ νλ“!"]
```

---

### 4.3 μ΄μ„Έλ½‘κΈ° (fortune)

**κ°μ”**: λλ¤ μ΄μ„Έ ν…μ¤νΈ + λ³„μ μ— λ”°λ¥Έ ν¬μΈνΈ

**μ„¤μ • ν…μ΄λΈ” (game_fortune)**

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| gf_id | int AUTO_INCREMENT | PK |
| gf_star | tinyint | λ³„ κ°μ (1~5) |
| gf_text | varchar(255) | μ΄μ„Έ ν…μ¤νΈ |
| gf_point | int | νλ“ ν¬μΈνΈ |
| gf_use | tinyint | μ‚¬μ© μ—¬λ¶€ |

**μμ‹ λ°μ΄ν„°**
```
| λ³„ | ν…μ¤νΈ | ν¬μΈνΈ |
|----|--------|--------|
| β­ | μ¤λμ€ μ΅°μ©ν μ‰¬λ” κ² μΆ‹κ² μ–΄μ” | 10 |
| β­β­ | ν‰λ²”ν• ν•λ£¨κ°€ λ  κ±°μμ” | 20 |
| β­β­β­ | μΆ‹μ€ μΌμ΄ μƒκΈΈ μ΅°μ§! | 30 |
| β­β­β­β­ | ν–‰μ΄μ΄ λ”°λ¥΄λ” λ‚ ! | 50 |
| β­β­β­β­β­ | λ€λ°• μ΄μ„Έ! λ¨λ“  μΌμ΄ μ ν’€λ ¤μ” | 100 |
```

**UI ν”λ΅μ°**
```
[μ΄μ„Έλ½‘κΈ° λ²„νΌ ν΄λ¦­]
      β†“
[μΉ΄λ“ λ’¤μ§‘κΈ° μ• λ‹λ©”μ΄μ…]
      β†“
[κ²°κ³Ό: "β­β­β­β­ ν–‰μ΄μ΄ λ”°λ¥΄λ” λ‚ ! +50P"]
```

---

### 4.4 μΆ…μ΄λ½‘κΈ° (lottery)

**κ°μ”**: λ¬Έλ°©κµ¬ μΆ…μ΄λ½‘κΈ° μ¤νƒ€μΌ, ν μ™„μ„± μ‹ λ³΄λ„μ¤

**λ“±μ μ„¤μ • ν…μ΄λΈ” (game_lottery_prize)**

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| glp_id | int AUTO_INCREMENT | PK |
| glp_rank | tinyint | λ“±μ (1~5) |
| glp_name | varchar(50) | μƒ μ΄λ¦„ (1λ“±μƒ, 2λ“±μƒ...) |
| glp_count | int | ν•΄λ‹Ή λ“±μ κ°μ |
| glp_point | int | ν¬μΈνΈ λ³΄μƒ |
| glp_item_id | int | μƒμ  μ•„μ΄ν… ID (nullable) |
| glp_use | tinyint | μ‚¬μ© μ—¬λ¶€ |

**ν μ„¤μ • ν…μ΄λΈ” (game_lottery_board)**

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| glb_id | int AUTO_INCREMENT | PK |
| glb_size | int | ν ν¬κΈ° (50, 100 λ“±) |
| glb_bonus_point | int | ν μ™„μ„± λ³΄λ„μ¤ ν¬μΈνΈ |
| glb_bonus_item_id | int | ν μ™„μ„± λ³΄λ„μ¤ μ•„μ΄ν… (nullable) |
| glb_use | tinyint | μ‚¬μ© μ—¬λ¶€ |

**μ μ € μ§„ν–‰ ν…μ΄λΈ” (game_lottery_user)**

| ν•„λ“ | νƒ€μ… | μ„¤λ… |
|------|------|------|
| glu_id | int AUTO_INCREMENT | PK |
| mb_id | varchar(20) | νμ› ID |
| glb_id | int | ν„μ¬ ν ID |
| glu_picked | text | λ½‘μ€ λ²νΈλ“¤ (JSON) |
| glu_count | int | λ½‘μ€ κ°μ |
| glu_completed | tinyint | ν μ™„μ„± μ—¬λ¶€ |

**UI ν”λ΅μ°**
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π« μΆ…μ΄λ½‘κΈ° (32/100)                   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                         β”‚
β”‚  [01][02][03][04][05][06][07][08][09][10]β”‚
β”‚  [##][12][##][14][15][##][17][18][19][20]β”‚
β”‚  [21][##][23][24][##][26][27][28][##][30]β”‚
β”‚  ...                                    β”‚
β”‚                                         β”‚
β”‚  ## = μ΄λ―Έ λ½‘μ€ λ²νΈ                     β”‚
β”‚                                         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  μ¤λμ λ½‘κΈ°: [λλ¤ λ½‘κΈ° λ²„νΌ]           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

[λ½‘κΈ° κ²°κ³Ό]
β†’ "23λ²: π¥ 2λ“±μƒ! +200P"
```

**ν μ™„μ„± μ‹**
```
π‰ ν μ™„μ„±! λ³΄λ„μ¤ 500P νλ“!
μƒλ΅μ΄ νμ΄ μ‹μ‘λ©λ‹λ‹¤.
```

---

## 5. μƒμ  μ—°λ™ (λ―Έλ¦¬λ³΄κΈ°)

### 5.1 λ―Έλ‹κ²μ„ μƒν’ μ—°λ™

| μ—°λ™ λ€μƒ | μ„¤λ… |
|----------|------|
| μΆ…μ΄λ½‘κΈ° λ“±μ μƒν’ | glp_item_idλ΅ μƒμ  μ•„μ΄ν… μ§€κΈ‰ |
| ν μ™„μ„± λ³΄λ„μ¤ | glb_bonus_item_idλ΅ μ•„μ΄ν… μ§€κΈ‰ |
| μ΄μ„Έλ½‘κΈ° (ν™•μ¥) | νΉμ • λ³„μ μ— μ•„μ΄ν… μ¶”κ°€ κ°€λ¥ |

> μƒμ„Έ μƒμ  μ‹μ¤ν…μ€ PLAN_SHOP.mdμ—μ„ μ •μ

---

## 6. ν¬μΈνΈ μ‚¬μ©

### 6.1 μ‚¬μ©μ²

| μ‚¬μ©μ² | μ„¤λ… |
|--------|------|
| μƒμ  | μ•„μ΄ν… κµ¬λ§¤ (PLAN_SHOP.md μ°Έκ³ ) |

### 6.2 μ°¨κ° λ°©μ‹

- μƒμ  κµ¬λ§¤ μ‹μ—λ§ μ°¨κ°
- κΈ€ μ‚­μ  μ‹ ν¬μΈνΈ νμ μ—†μ
- κ΄€λ¦¬μ μλ™ μ°¨κ° κ°€λ¥

---

## 7. ν¬μΈνΈ λ‚΄μ—­ νμ΄μ§€

### 7.1 μ μ € μ„μ ― (κ°„λµ)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π‘¤ λ‹‰λ„¤μ„       β”‚
β”‚  π’° 1,234 P      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 7.2 μƒμ„Έ λ‚΄μ—­ νμ΄μ§€ (/point/history)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  ν¬μΈνΈ λ‚΄μ—­                        λ³΄μ : 1,234 P   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  λ‚ μ§       β”‚ λ‚΄μ©              β”‚ ν¬μΈνΈ   β”‚ μ”μ•΅   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  02-03 10:30β”‚ μ¶μ„μ²΄ν¬ (μ£Όμ‚¬μ„)  β”‚ +42     β”‚ 1,234 β”‚
β”‚  02-03 09:15β”‚ λ΅κ·Έ κ²μ‹ν κΈ€μ‘μ„± β”‚ +10     β”‚ 1,192 β”‚
β”‚  02-02 23:40β”‚ μ—­κ·Ή μ΄μ          β”‚ +20     β”‚ 1,182 β”‚
β”‚  02-02 14:20β”‚ μƒμ  κµ¬λ§¤          β”‚ -100    β”‚ 1,162 β”‚
β”‚  ...        β”‚                   β”‚         β”‚       β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 8. κ΄€λ¦¬μ κΈ°λ¥

### 8.1 ν¬μΈνΈ κ΄€λ¦¬

| κΈ°λ¥ | μ„¤λ… |
|------|------|
| ν¬μΈνΈ λ‚΄μ—­ μ΅°ν | μ „μ²΄/νμ›λ³„ λ‚΄μ—­ |
| μλ™ μ§€κΈ‰/μ°¨κ° | κ΄€λ¦¬μ μ§μ ‘ μ΅°μ • |
| κ²μ‹νλ³„ μ„¤μ • | μ λ¦½λ‰, μ ν• νμ |

### 8.2 μ¶μ„/λ―Έλ‹κ²μ„ κ΄€λ¦¬

| κΈ°λ¥ | μ„¤λ… |
|------|------|
| λ―Έλ‹κ²μ„ μ„ νƒ | dice/fortune/lottery |
| μ£Όμ‚¬μ„ μ„¤μ • | μµμ†/μµλ€ ν¬μΈνΈ |
| μ΄μ„Έ κ΄€λ¦¬ | ν…μ¤νΈ/λ³„μ /ν¬μΈνΈ CRUD |
| μΆ…μ΄λ½‘κΈ° κ΄€λ¦¬ | λ“±μ/μƒν’/ν ν¬κΈ° μ„¤μ • |

---

## 9. λ³΄λ¥ ν•­λ© (2μ°¨ κ°λ°)

| ν•­λ© | μ„¤λ… |
|------|------|
| μΊλ¦­ν„° κ²½ν—μΉ (ch_exp) | μ „ν¬ μ‹μ¤ν…κ³Ό ν•¨κ» κµ¬ν„ |
| ν¬μΈνΈ λ§λ£ | ν•„μ”μ‹ μ¶”κ°€ |
| ν¬μΈνΈ μ„ λ¬Ό | ν•„μ”μ‹ μ¶”κ°€ |

---

## 10. TODO

- [ ] μ¶μ„μ²΄ν¬ UI μ„¤κ³„
- [ ] λ―Έλ‹κ²μ„ 3μΆ… UI/μ• λ‹λ©”μ΄μ… μ„¤κ³„
- [ ] μΆ…μ΄λ½‘κΈ° ν UI μƒμ„Έ μ„¤κ³„
- [ ] κ΄€λ¦¬μ λ―Έλ‹κ²μ„ μ„¤μ • νμ΄μ§€
- [ ] ν¬μΈνΈ API μ—”λ“ν¬μΈνΈ μ„¤κ³„

---

*μ‘μ„±μΌ: 2026-02-03*
*μμ •μΌ: 2026-02-03*
*μƒνƒ: 1μ°¨ κΈ°ν μ™„λ£, λ¬Έμ„ κ²€ν†  μ™„λ£*
