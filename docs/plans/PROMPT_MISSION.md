# 정기 프롬프트 시스템 기획 (Prompt Mission)

> Morgan Edition - 주간/월간 미션 게시판 스킨
> 관련: REWARD.md (보상 체계), BOARD.md (게시판 스킨), PIONEER.md (재료 보상)

---

## 기획 의도

**"관리자가 주기적으로 내는 공식 미션에 참여하여 보상을 받는 시스템"**

커뮤니티 운영에서 가장 일반적이고 포멀한 형태의 **미션 보드**.
게시판 스킨으로 구현하여 기존 인프라(글쓰기, 댓글, 추천)를 그대로 활용한다.

- **포인트 수급처**: 활동 보상 외에 목표 지향적 포인트 획득 루트
- **스토리 진행**: 세계관 이벤트를 미션으로 풀어내어 서사 연결
- **참여 유도**: 명확한 목표 + 기한 + 보상 → 활동 동기
- **창작 촉진**: 글쓰기/그림/역극 등 다양한 제출 형태 수용
- **운영 편의**: 게시판 스킨이므로 별도 페이지 불필요, 기존 관리 도구 활용

레퍼런스: 네이버 카페 미션, 디시인사이드 공지 이벤트, TRPG 퀘스트 보드

---

## 핵심 흐름

```
관리자: 프롬프트(미션) 등록 (제목, 설명, 기간, 보상, 조건)
              ↓
유저: 해당 게시판에 글 작성 (= 미션 제출)
              ↓
    글 작성 시 참여할 프롬프트 선택 (드롭다운)
              ↓
    기한 내 제출 → 자동 참여 등록
              ↓
관리자: 수동 검수 or 자동 인정 (설정에 따라)
              ↓
    보상 지급 (포인트, 재료, 업적 트리거)
```

### 자동 인정 vs 수동 검수

| 모드 | 설명 | 적합한 미션 |
|------|------|------------|
| `auto` | 제출 즉시 참여 인정 + 보상 지급 | "이번 주 자유 글쓰기", "출석 미션" |
| `review` | 관리자 검수 후 승인/반려 | "세계관 단편 작성", "캐릭터 일러스트" |
| `vote` | 기한 종료 후 추천수 기준 상위 N명 보상 | "이달의 베스트 글", "콘테스트" |

---

## 프롬프트(미션) 구조

### 프롬프트 속성

| 항목 | 설명 | 예시 |
|------|------|------|
| 제목 | 미션 이름 | "2월 3주차: 겨울밤의 조우" |
| 설명 | 미션 상세, 세계관 배경 | "한겨울 밤, 당신의 캐릭터가..." |
| 주기 | weekly / monthly / event | 주간 |
| 시작일~종료일 | 참여 가능 기간 | 02/17 ~ 02/23 |
| 보상 모드 | auto / review / vote | review |
| 기본 보상 | 참여자 전원 포인트 | 300P |
| 보너스 보상 | 우수작/상위 추가 보상 | +500P |
| 재료 보상 | 개척 재료 드롭 (선택) | 희귀서적 x1 |
| 최소 글자수 | 제출 글 최소 길이 | 500자 |
| 최대 참여 | 인당 제출 가능 횟수 | 1회 |
| 태그 | 분류용 태그 | #세계관 #단편 #자유 |
| 배너 이미지 | 미션 카드 상단 이미지 | /data/prompt/banner_001.jpg |

### 예시 미션 시나리오

```
┌─────────────────────────────────────────────────────────┐
│  🎯 2월 3주차 프롬프트                                    │
│                                                         │
│  ❄ 겨울밤의 조우                                         │
│  ──────────────────────────────────────────────────────  │
│  세력 간의 긴장이 고조되는 가운데,                          │
│  한겨울 밤 뜻밖의 만남이 일어난다.                          │
│  당신의 캐릭터는 이 상황에서 어떻게 행동할 것인가?           │
│                                                         │
│  📋 조건: 500자 이상 단편 / 1인 1작                       │
│  🎁 보상: 참여 300P + 우수작 500P + 희귀서적 x1           │
│  📅 기간: 2/17(월) ~ 2/23(일)                            │
│  🏷 #세계관 #단편                                        │
│                                                         │
│  참여: 12명 / 제출: 8건                     [참여하기 →]  │
└─────────────────────────────────────────────────────────┘
```

---

## 게시판 스킨 구현

### 구현 방식

프롬프트 시스템은 **게시판 스킨**으로 구현한다.
- 관리자가 특정 게시판에 `prompt` 스킨을 적용하면 해당 게시판이 미션 보드가 됨
- 글쓰기 = 미션 제출, 목록 = 미션 보드 + 제출작 목록
- 기존 댓글/추천/파일첨부 모두 활용 가능
- 여러 게시판에 각각 적용 가능 (예: "주간미션" 게시판, "월간콘테스트" 게시판)

### 스킨 파일 구성

```
theme/morgan/skin/board/prompt/
├── list.skin.php          # 미션 보드 (활성 프롬프트 카드 + 제출작 목록)
├── view.skin.php          # 제출작 보기 (프롬프트 정보 배지 포함)
├── write.skin.php         # 제출 폼 (프롬프트 선택 드롭다운 추가)
├── view_comment.skin.php  # 댓글 (기존 basic 기반)
└── style.css              # 프롬프트 전용 스타일
```

### 목록 페이지 (list.skin.php)

```
┌─────────────────────────────────────────────────────────────┐
│  📋 주간 프롬프트                                  [전체보기] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ── 진행 중 프롬프트 ──────────────────────────────────────  │
│                                                             │
│  ┌──────────────────────┐  ┌──────────────────────┐        │
│  │ [배너 이미지]         │  │ [배너 이미지]         │        │
│  │                      │  │                      │        │
│  │ 🎯 겨울밤의 조우      │  │ 🎯 캐릭터 일러스트전  │        │
│  │ 2/17~2/23 | D-3      │  │ 2/1~2/28 | D-18     │        │
│  │ 참여 300P + 우수 500P │  │ 참여 500P            │        │
│  │ 제출 8건              │  │ 제출 3건              │        │
│  │        [참여하기 →]   │  │        [참여하기 →]   │        │
│  └──────────────────────┘  └──────────────────────┘        │
│                                                             │
│  ── 제출작 목록 ──────────────────────────────────────────  │
│                                                             │
│  [프롬프트 필터: 전체 | 겨울밤의 조우 | 캐릭터 일러스트전]    │
│                                                             │
│  # │ 프롬프트     │ 제목           │ 작성자 │ 날짜  │ 상태  │
│  ──┼─────────────┼────────────────┼───────┼──────┼──────  │
│  8 │ 겨울밤의조우 │ 밤의 경계에서   │ 다니엘 │ 02/19│ ✅승인 │
│  7 │ 겨울밤의조우 │ 눈 오는 날     │ 레이첼 │ 02/18│ ⏳검수 │
│  6 │ 일러스트전   │ [그림] 레이첼   │ 민수  │ 02/15│ ✅승인 │
│  ...                                                        │
│                                                             │
│  ── 종료된 프롬프트 (최근 3건) ─────────────────────────── │
│  • 2월 2주차: 첫 만남의 기억 (완료, 참여 15명)              │
│  • 2월 1주차: 신년의 결의 (완료, 참여 22명)                  │
│  • 1월 콘테스트: 연말 베스트 (완료, 참여 9명)                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 글쓰기 폼 (write.skin.php)

기존 basic 스킨 기반에 프롬프트 선택 필드 추가:

```
┌─────────────────────────────────────────────────────────────┐
│  ✏ 글쓰기 (미션 제출)                                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  프롬프트 선택: [ 🎯 겨울밤의 조우 (2/17~2/23)  ▼ ]        │
│                                                             │
│  ┌─ 미션 안내 ─────────────────────────────────────────┐   │
│  │ 세력 간의 긴장이 고조되는 가운데...                    │   │
│  │ 📋 500자 이상 / 1인 1작 / 보상: 300P (+우수 500P)    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  제목: [                                            ]       │
│                                                             │
│  내용:                                                      │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ (에디터)                                             │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│  현재 0자 (최소 500자)                                      │
│                                                             │
│  파일첨부: [파일 선택]                                       │
│                                                             │
│                               [ 제출하기 ]  [ 임시저장 ]    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

- 프롬프트 선택 드롭다운: 현재 진행 중인 프롬프트만 표시
- "자유글" 옵션도 제공 (프롬프트 없이 일반 게시글 작성)
- 프롬프트 선택 시 최소 글자수 안내 표시
- 제출 시 글자수 미달이면 경고

### 제출작 보기 (view.skin.php)

기존 basic view 스킨에 프롬프트 배지 추가:

```
┌─ 프롬프트 배지 ──────────────────────┐
│ 🎯 겨울밤의 조우 | ✅ 승인 | 300P   │
└──────────────────────────────────────┘

[기존 게시글 view 내용...]
```

---

## DB 스키마

### mg_prompt — 프롬프트(미션) 정의

| 컬럼 | 타입 | 설명 |
|------|------|------|
| pm_id | int PK AUTO_INCREMENT | 프롬프트 ID |
| bo_table | varchar(20) | 대상 게시판 |
| pm_title | varchar(200) | 미션 제목 |
| pm_content | text | 미션 설명 (HTML 허용) |
| pm_cycle | enum('weekly','monthly','event') | 주기 |
| pm_mode | enum('auto','review','vote') DEFAULT 'review' | 보상 모드 |
| pm_point | int DEFAULT 0 | 기본 참여 보상 (포인트) |
| pm_bonus_point | int DEFAULT 0 | 우수작 추가 보상 |
| pm_bonus_count | int DEFAULT 0 | 우수작 선정 인원 (vote 모드: 상위 N명) |
| pm_material_id | int NULL | 재료 보상 ID (mg_material_type) |
| pm_material_qty | int DEFAULT 0 | 재료 보상 수량 |
| pm_min_chars | int DEFAULT 0 | 최소 글자수 (0=제한없음) |
| pm_max_entry | int DEFAULT 1 | 인당 최대 제출 수 |
| pm_banner | varchar(300) NULL | 배너 이미지 경로 |
| pm_tags | varchar(200) NULL | 태그 (쉼표 구분) |
| pm_status | enum('draft','active','closed','archived') DEFAULT 'draft' | 상태 |
| pm_start_date | datetime | 시작일 |
| pm_end_date | datetime | 종료일 |
| pm_created | datetime | 등록일 |
| pm_admin_id | varchar(20) | 등록 관리자 |

**인덱스:**
- `idx_prompt_board` (bo_table, pm_status, pm_end_date)
- `idx_prompt_status` (pm_status)

### mg_prompt_entry — 제출(참여) 기록

| 컬럼 | 타입 | 설명 |
|------|------|------|
| pe_id | int PK AUTO_INCREMENT | 제출 ID |
| pm_id | int | 프롬프트 ID |
| mb_id | varchar(20) | 제출 회원 |
| wr_id | int | 연결된 게시글 ID |
| bo_table | varchar(20) | 게시판 (조회 편의) |
| pe_status | enum('submitted','approved','rejected','rewarded') DEFAULT 'submitted' | 상태 |
| pe_point | int DEFAULT 0 | 지급된 포인트 (보상 지급 시 기록) |
| pe_is_bonus | tinyint DEFAULT 0 | 우수작 선정 여부 |
| pe_admin_id | varchar(20) NULL | 검수 관리자 |
| pe_admin_memo | varchar(300) NULL | 검수 메모 (반려 사유 등) |
| pe_datetime | datetime | 제출일 |
| pe_review_date | datetime NULL | 검수일 |

**인덱스:**
- `idx_entry_prompt` (pm_id, pe_status)
- `idx_entry_member` (mb_id, pm_id) — 중복 제출 체크
- `idx_entry_write` (bo_table, wr_id) — 게시글로 역참조

### 기존 테이블 연동

| 테이블 | 연동 | 방향 |
|--------|------|------|
| g5_write_{bo_table} | wr_id로 게시글 연결 | entry → write |
| g5_member | mb_id 참조 | entry → member |
| mg_material_type | 재료 보상 지급 | prompt → material |
| mg_notification | 승인/반려/보상 알림 | → notification |
| mg_point (g5 내장) | 포인트 보상 지급 | → point |

---

## 상태 흐름

### 프롬프트 상태

```
draft ──→ active ──→ closed ──→ archived
 (임시)    (진행중)   (종료)     (보관)
```

- `draft`: 관리자가 작성 중, 유저에게 미노출
- `active`: 진행 중, 유저 참여 가능
- `closed`: 기한 만료 또는 관리자 종료, 참여 불가, 검수 가능
- `archived`: 완전 종료, 목록에서 숨김 (종료된 프롬프트 섹션에서도 미노출)

### 제출 상태

```
submitted ──→ approved ──→ rewarded
    │
    └──→ rejected
```

- `submitted`: 제출됨, 검수 대기 (auto 모드에서는 바로 approved로)
- `approved`: 승인됨
- `rejected`: 반려됨 (사유 + 알림)
- `rewarded`: 보상 지급 완료

### auto 모드 흐름

```
유저 글 작성 → mg_prompt_entry INSERT (status: approved)
            → 즉시 포인트 지급 (status: rewarded)
            → 재료 보상 있으면 재료도 지급
```

### review 모드 흐름

```
유저 글 작성 → mg_prompt_entry INSERT (status: submitted)
            → 관리자 검수
            → 승인 → 포인트 지급 (status: rewarded) + 알림
            → 반려 → 사유 기록 (status: rejected) + 알림
```

### vote 모드 흐름

```
유저 글 작성 → mg_prompt_entry INSERT (status: submitted)
            → 기한 종료 시 관리자 마감
            → 추천수 상위 N명 → approved + bonus
            → 전원 기본 보상 (또는 상위만, 관리자 설정)
            → 포인트 지급 (status: rewarded)
```

---

## 관리자 기능

### 프롬프트 관리 (adm/morgan/prompt.php)

| 기능 | 설명 |
|------|------|
| 프롬프트 목록 | 상태/주기/게시판 필터, 페이지네이션 |
| 프롬프트 등록 | 제목, 설명, 기간, 보상, 조건, 배너 이미지 |
| 프롬프트 수정 | 진행 중에도 설명/보상 수정 가능 |
| 프롬프트 종료 | 수동 마감 (기한 전 강제 종료) |
| 제출작 검수 | approved/rejected 처리, 메모 |
| 일괄 승인 | 체크박스 선택 후 일괄 승인 |
| 우수작 선정 | 수동 선정 또는 추천수 기준 자동 |
| 보상 일괄 지급 | 승인된 제출작에 포인트+재료 지급 |
| 통계 | 프롬프트별 참여율, 평균 글자수, 보상 총액 |

### 프롬프트 등록 폼

```
┌─────────────────────────────────────────────────────────────┐
│  프롬프트 등록                                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  대상 게시판: [ 주간미션 (weekly_mission) ▼ ]                │
│  ※ prompt 스킨이 적용된 게시판만 표시                        │
│                                                             │
│  제목:  [                                            ]      │
│  주기:  ○ 주간  ○ 월간  ○ 이벤트                            │
│  기간:  [2026-02-17] ~ [2026-02-23]                         │
│                                                             │
│  설명:                                                      │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ (에디터)                                             │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  배너 이미지: [파일 선택] (권장: 800x300)                    │
│  태그: [#세계관, #단편____________________________]          │
│                                                             │
│  ── 조건 ──                                                 │
│  보상 모드: ○ 자동 인정  ○ 수동 검수  ○ 추천 투표            │
│  최소 글자수: [  500  ]자                                    │
│  인당 제출 제한: [  1  ]회                                   │
│                                                             │
│  ── 보상 ──                                                 │
│  기본 참여 보상: [  300  ]P                                  │
│  우수작 추가:    [  500  ]P × [  3  ]명                      │
│  재료 보상: [ 희귀서적 ▼ ] × [  1  ]개 (선택)                │
│                                                             │
│  상태: ○ 임시저장  ○ 바로 게시                               │
│                                                             │
│                            [ 저장 ]  [ 미리보기 ]            │
└─────────────────────────────────────────────────────────────┘
```

### 제출작 검수 화면

```
┌─────────────────────────────────────────────────────────────┐
│  🎯 겨울밤의 조우 — 제출작 검수                    [← 목록]  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  총 12건 | ⏳ 대기 4 | ✅ 승인 6 | ❌ 반려 2                 │
│                                                             │
│  [상태: 전체 | 대기 | 승인 | 반려]                           │
│                                                             │
│  ☑ │ # │ 제목              │ 작성자 │ 글자수 │ 추천 │ 상태  │
│  ──┼───┼───────────────────┼───────┼──────┼─────┼──────  │
│  ☐ │ 12│ 밤의 경계에서      │ 다니엘 │ 1,234│  5  │ ⏳대기 │
│  ☐ │ 11│ 눈 오는 날의 고백  │ 레이첼 │  890 │  3  │ ⏳대기 │
│  ☐ │ 10│ 적과의 조우        │ 빅터   │ 2,100│  8  │ ✅승인 │
│  ...                                                        │
│                                                             │
│  [ ☑ 선택 일괄 승인 ]  [ ☑ 선택 우수작 선정 ]               │
│                                                             │
│  ── 보상 지급 ──                                            │
│  승인 6건 × 300P = 1,800P                                   │
│  우수작 0건 × 500P = 0P                                     │
│  총 지급 예정: 1,800P                                       │
│  [ 보상 일괄 지급 ]                                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 프론트 구현 상세

### 프롬프트 카드 렌더링

스킨 목록 상단에 활성 프롬프트를 카드 형태로 표시:

```php
// list.skin.php 상단
$active_prompts = mg_get_active_prompts($bo_table);
foreach ($active_prompts as $prompt) {
    // 카드 렌더링: 배너, 제목, 기간, D-Day, 보상, 참여 수
    $dday = floor((strtotime($prompt['pm_end_date']) - time()) / 86400);
    $entry_count = mg_get_prompt_entry_count($prompt['pm_id']);
    // ...
}
```

### 글쓰기 시 프롬프트 연결

```php
// write.skin.php
$active_prompts = mg_get_active_prompts($bo_table);
// <select name="pm_id"> 드롭다운 렌더링
// 선택 시 미션 안내 표시 (AJAX or JS)
```

### 글 저장 시 처리 (write_update 훅)

기존 Gnuboard5의 글 저장 후 훅에서 프롬프트 엔트리 생성:

```php
// write_update.php 후처리 또는 morgan.php 훅
function mg_prompt_after_write($bo_table, $wr_id, $w) {
    $pm_id = (int)($_POST['pm_id'] ?? 0);
    if (!$pm_id) return;

    $prompt = mg_get_prompt($pm_id);
    if (!$prompt || $prompt['pm_status'] != 'active') return;
    if ($prompt['bo_table'] != $bo_table) return;

    // 중복 제출 체크
    $existing = sql_fetch("SELECT COUNT(*) as cnt FROM {$g5['mg_prompt_entry_table']}
        WHERE pm_id = {$pm_id} AND mb_id = '{$member['mb_id']}'");
    if ((int)$existing['cnt'] >= $prompt['pm_max_entry']) return;

    // 글자수 체크 (최소 글자수 미달이면 엔트리 미생성)
    $content_len = mb_strlen(strip_tags($w['wr_content']));
    if ($prompt['pm_min_chars'] > 0 && $content_len < $prompt['pm_min_chars']) return;

    // 엔트리 생성
    $status = ($prompt['pm_mode'] == 'auto') ? 'approved' : 'submitted';
    sql_query("INSERT INTO {$g5['mg_prompt_entry_table']}
        (pm_id, mb_id, wr_id, bo_table, pe_status, pe_datetime)
        VALUES ({$pm_id}, '{$member['mb_id']}', {$wr_id}, '{$bo_table}', '{$status}', NOW())");

    // auto 모드면 즉시 보상
    if ($prompt['pm_mode'] == 'auto') {
        mg_prompt_give_reward($pm_id, sql_insert_id());
    }
}
```

### 핵심 함수

| 함수 | 설명 |
|------|------|
| `mg_get_active_prompts($bo_table)` | 게시판의 활성 프롬프트 목록 |
| `mg_get_prompt($pm_id)` | 프롬프트 단건 조회 |
| `mg_get_prompt_entry_count($pm_id)` | 프롬프트 제출 수 |
| `mg_get_my_entries($pm_id, $mb_id)` | 내 제출 내역 |
| `mg_prompt_after_write()` | 글 저장 후 엔트리 생성 훅 |
| `mg_prompt_give_reward($pm_id, $pe_id)` | 보상 지급 처리 |
| `mg_prompt_approve($pe_id, $admin_id)` | 제출 승인 |
| `mg_prompt_reject($pe_id, $admin_id, $memo)` | 제출 반려 |
| `mg_prompt_close($pm_id)` | 프롬프트 종료 처리 |
| `mg_prompt_auto_close()` | 기한 만료 자동 종료 (cron/패시브) |

---

## 자동 종료 (패시브 체크)

프롬프트 기한이 지나면 자동으로 `closed` 상태로 전환:

```php
// morgan.php 패시브 체크 (페이지 로드 시)
function mg_prompt_check_expired() {
    global $g5;
    sql_query("UPDATE {$g5['mg_prompt_table']}
        SET pm_status = 'closed'
        WHERE pm_status = 'active'
        AND pm_end_date < NOW()");
}
```

---

## 설정 (mg_config)

| 키 | 기본값 | 설명 |
|----|-------|------|
| `prompt_enable` | 1 | 프롬프트 시스템 ON/OFF |
| `prompt_show_closed` | 3 | 종료된 프롬프트 목록 표시 개수 |
| `prompt_notify_submit` | 1 | 제출 시 관리자 알림 |
| `prompt_notify_approve` | 1 | 승인 시 유저 알림 |
| `prompt_notify_reject` | 1 | 반려 시 유저 알림 |
| `prompt_banner_max_size` | 1024 | 배너 이미지 최대 KB |

---

## 파일 구성

### 신규 파일

| 파일 | 역할 |
|------|------|
| `theme/morgan/skin/board/prompt/list.skin.php` | 미션 보드 목록 스킨 |
| `theme/morgan/skin/board/prompt/view.skin.php` | 제출작 보기 스킨 |
| `theme/morgan/skin/board/prompt/write.skin.php` | 제출 글쓰기 스킨 |
| `theme/morgan/skin/board/prompt/view_comment.skin.php` | 댓글 (basic 기반) |
| `theme/morgan/skin/board/prompt/style.css` | 프롬프트 전용 스타일 |
| `adm/morgan/prompt.php` | 관리자 프롬프트 관리 |
| `adm/morgan/prompt_update.php` | 프롬프트 저장/AJAX 처리 |

### 기존 파일 수정

| 파일 | 수정 내용 |
|------|----------|
| `plugin/morgan/morgan.php` | 프롬프트 관련 함수 추가, mg_prompt_table 등록 |
| `plugin/morgan/install/install.sql` | mg_prompt, mg_prompt_entry 테이블 |
| `adm/admin.menu800.php` | 관리자 메뉴에 "프롬프트 관리" 추가 |
| `theme/morgan/head.php` | 사이드바에 미션 보드 링크 (게시판 자체가 링크) |

---

## 구현 우선순위

```
[1단계] 기본 프롬프트 + auto 모드 (난이도: 중)
├── mg_prompt, mg_prompt_entry 테이블 생성
├── 관리자 프롬프트 CRUD
├── prompt 게시판 스킨 (list/write/view)
├── 글 저장 시 엔트리 생성 훅
├── auto 모드 즉시 보상
└── 기한 만료 자동 종료

[2단계] review 모드 + 관리자 검수 (난이도: 중)
├── 제출작 검수 UI (승인/반려/일괄)
├── 반려 사유 + 알림 발송
├── 보상 일괄 지급
└── 우수작 수동 선정

[3단계] vote 모드 + 통계 (난이도: 낮음)
├── 추천수 기준 자동 상위 선정
├── 프롬프트별 참여 통계
├── 대시보드 위젯 (활성 미션, 검수 대기)
└── 재료 보상 연동

[4단계] 고도화 (난이도: 낮음)
├── 배너 이미지 업로드
├── 태그 필터링
├── 종료된 프롬프트 아카이브 뷰
└── 프롬프트 복제 (지난 주 미션 재활용)
```

---

## 기존 시스템 연동 정리

| 시스템 | 연동 | 방향 |
|--------|------|------|
| 게시판 (Gnuboard5) | 스킨으로 동작, wr_id 연결 | 게시판 → 프롬프트 |
| 보상 시스템 | 포인트 지급 (insert_point) | 프롬프트 → 보상 |
| 개척 재료 | 재료 보상 드롭 | 프롬프트 → 개척 |
| 알림 | 승인/반려/보상 알림 | 프롬프트 → 알림 |
| 업적 (향후) | "미션 N회 참여" 트리거 | 프롬프트 → 업적 |
| 대시보드 | 활성 미션 수 + 검수 대기 위젯 | 프롬프트 → 대시보드 |

---

## 경제 효과

| 항목 | 수치 (예시) | 효과 |
|------|------------|------|
| 주간 미션 | 300P/회 × 4주 = 1,200P/월 | 안정적 소득원 |
| 우수작 보너스 | 500P × 3명/주 | 고품질 참여 유도 |
| 월간 콘테스트 | 1,000P + 재료 | 대형 이벤트 |
| 이벤트 미션 | 관리자 설정 | 유연한 보상 |

기존 소득원 (활동 보상 + 좋아요 + 출석)에 미션 소득이 추가되어
재화 순환 루프 강화: 미션 참여 → 포인트 획득 → 상점/역극 소비 → 다시 미션 참여

---

*버전: 1.0*
*작성일: 2026-02-10*
*상태: 기획 완료, 구현 대기*
*관련: REWARD.md, BOARD.md, PIONEER.md*
